!function(e){function t(t){var n=e(t),r=this;r.children=Boolean(n.children().length),r.state={opened:!1,selected:!1},r.node=t;var o=n.data("jstree");o&&e.extend(!0,r,o);var a=n.data();delete a.jstree,e.extend(!0,r,a),e.each(["opened","selected","disabled"],function(e,t){t in r&&(r.state[t]=r[t],delete r[t])});var i="";"text"in this==!1&&(e.each(t.childNodes,function(e,t){3===t.nodeType&&(i+=t.nodeValue)}),r.text=i)}e.fn.jstreeBind=function(n,r){var o=e(n),a=this;if(r=r||{},"function"!=typeof e.fn.jstree)throw new Error("jsTree must be installed for jsTree-bind to work!");if(o[0]instanceof Element==!1)throw new Error("You need to pass in a valid jQuery selector or DOM element as the first element of jstreeBind()");var i=e.extend({core:{data:function(n,r){var a;a=n.parent?e(n.original.node):o,a=e.makeArray(a.children()),r(e.map(a,function(e){return new t(e)}))}}},r);a.jstree(i)}}(jQuery);